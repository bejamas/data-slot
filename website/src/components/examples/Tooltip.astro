---
import { Code } from "astro:components";
import ExampleBlock from "../ExampleBlock.astro";

const cssCode = `<div data-slot="tooltip" class="tooltip-root">
  <button data-slot="tooltip-trigger" class="tooltip-trigger-btn">Hover me</button>
  <div data-slot="tooltip-content" data-side="top" class="tooltip-content">
    Tooltip content
  </div>
</div>

<style>
  .tooltip-root { position: relative; display: inline-block; }
  .tooltip-trigger-btn {
    padding: 0.5rem 1rem;
    background: none;
    border: 1px dashed #ccc;
    cursor: help;
  }
  .tooltip-content {
    position: absolute;
    background: #1a1a1a;
    color: #faf9f7;
    padding: 0.5rem 0.75rem;
    font-size: 0.85rem;
    white-space: nowrap;
    z-index: 50;
    /* Hidden by default */
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    /* Visibility delays hiding until after fade */
    transition: opacity 0.15s, transform 0.15s, visibility 0s linear 0.15s;
  }
  /* Open state */
  .tooltip-root[data-state="open"] .tooltip-content {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transition-delay: 0s;
  }
  .tooltip-content[data-side="top"] {
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(-4px);
  }
  .tooltip-root[data-state="open"] .tooltip-content[data-side="top"] {
    transform: translateX(-50%) translateY(-8px);
  }
  /* Arrow */
  .tooltip-content::after {
    content: "";
    position: absolute;
    border: 6px solid transparent;
  }
  .tooltip-content[data-side="top"]::after {
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-top-color: #1a1a1a;
  }
</style>`;

const tailwindCode = `<div data-slot="tooltip" class="group relative inline-block">
  <button
    data-slot="tooltip-trigger"
    class="px-4 py-2 bg-transparent border border-dashed border-gray-300
           cursor-help underline decoration-dotted underline-offset-2"
  >
    Hover me
  </button>
  <div
    data-slot="tooltip-content"
    data-side="top"
    class="absolute bottom-full left-1/2 -translate-x-1/2 -translate-y-1
           bg-gray-900 text-white px-3 py-2 text-sm whitespace-nowrap z-50
           opacity-0 pointer-events-none transition-all duration-150
           group-data-[state=open]:opacity-100 group-data-[state=open]:pointer-events-auto
           group-data-[state=open]:-translate-y-2
           after:content-[''] after:absolute after:top-full after:left-1/2
           after:-translate-x-1/2 after:border-[6px] after:border-transparent
           after:border-t-gray-900"
  >
    Tooltip content
  </div>
</div>`;
---

<ExampleBlock label="sides: top, bottom, left, right (+ warm-up behavior)">
  <div slot="preview-css" class="tooltip-group" id="tooltip-css">
    <div data-slot="tooltip" class="tooltip-root">
      <button data-slot="tooltip-trigger" class="tooltip-trigger-btn">Top</button>
      <div data-slot="tooltip-content" data-side="top" class="tooltip-content">
        Side: top (default)
      </div>
    </div>
    <div data-slot="tooltip" class="tooltip-root">
      <button data-slot="tooltip-trigger" class="tooltip-trigger-btn">Bottom</button>
      <div data-slot="tooltip-content" data-side="bottom" class="tooltip-content">
        Side: bottom
      </div>
    </div>
    <div data-slot="tooltip" class="tooltip-root">
      <button data-slot="tooltip-trigger" class="tooltip-trigger-btn">Left</button>
      <div data-slot="tooltip-content" data-side="left" class="tooltip-content">
        Side: left
      </div>
    </div>
    <div data-slot="tooltip" class="tooltip-root">
      <button data-slot="tooltip-trigger" class="tooltip-trigger-btn">Right</button>
      <div data-slot="tooltip-content" data-side="right" class="tooltip-content">
        Side: right
      </div>
    </div>
  </div>
  <div slot="preview-tailwind" class="flex gap-2" id="tooltip-tw">
    <div data-slot="tooltip" class="group relative inline-block">
      <button
        data-slot="tooltip-trigger"
        class="px-4 py-2 bg-transparent border border-dashed border-gray-300 cursor-help underline decoration-dotted underline-offset-2"
      >
        Top
      </button>
      <div
        data-slot="tooltip-content"
        data-side="top"
        class="absolute bottom-full left-1/2 -translate-x-1/2 -translate-y-1 bg-gray-900 text-white px-3 py-2 text-sm whitespace-nowrap z-50 opacity-0 pointer-events-none transition-all duration-150 group-data-[state=open]:opacity-100 group-data-[state=open]:pointer-events-auto group-data-[state=open]:-translate-y-2 after:content-[''] after:absolute after:top-full after:left-1/2 after:-translate-x-1/2 after:border-[6px] after:border-transparent after:border-t-gray-900"
      >
        Side: top (default)
      </div>
    </div>
    <div data-slot="tooltip" class="group relative inline-block">
      <button
        data-slot="tooltip-trigger"
        class="px-4 py-2 bg-transparent border border-dashed border-gray-300 cursor-help underline decoration-dotted underline-offset-2"
      >
        Bottom
      </button>
      <div
        data-slot="tooltip-content"
        data-side="bottom"
        class="absolute top-full left-1/2 -translate-x-1/2 translate-y-1 bg-gray-900 text-white px-3 py-2 text-sm whitespace-nowrap z-50 opacity-0 pointer-events-none transition-all duration-150 group-data-[state=open]:opacity-100 group-data-[state=open]:pointer-events-auto group-data-[state=open]:translate-y-2 after:content-[''] after:absolute after:bottom-full after:left-1/2 after:-translate-x-1/2 after:border-[6px] after:border-transparent after:border-b-gray-900"
      >
        Side: bottom
      </div>
    </div>
    <div data-slot="tooltip" class="group relative inline-block">
      <button
        data-slot="tooltip-trigger"
        class="px-4 py-2 bg-transparent border border-dashed border-gray-300 cursor-help underline decoration-dotted underline-offset-2"
      >
        Left
      </button>
      <div
        data-slot="tooltip-content"
        data-side="left"
        class="absolute right-full top-1/2 -translate-y-1/2 -translate-x-1 bg-gray-900 text-white px-3 py-2 text-sm whitespace-nowrap z-50 opacity-0 pointer-events-none transition-all duration-150 group-data-[state=open]:opacity-100 group-data-[state=open]:pointer-events-auto group-data-[state=open]:-translate-x-2 after:content-[''] after:absolute after:left-full after:top-1/2 after:-translate-y-1/2 after:border-[6px] after:border-transparent after:border-l-gray-900"
      >
        Side: left
      </div>
    </div>
    <div data-slot="tooltip" class="group relative inline-block">
      <button
        data-slot="tooltip-trigger"
        class="px-4 py-2 bg-transparent border border-dashed border-gray-300 cursor-help underline decoration-dotted underline-offset-2"
      >
        Right
      </button>
      <div
        data-slot="tooltip-content"
        data-side="right"
        class="absolute left-full top-1/2 -translate-y-1/2 translate-x-1 bg-gray-900 text-white px-3 py-2 text-sm whitespace-nowrap z-50 opacity-0 pointer-events-none transition-all duration-150 group-data-[state=open]:opacity-100 group-data-[state=open]:pointer-events-auto group-data-[state=open]:translate-x-2 after:content-[''] after:absolute after:right-full after:top-1/2 after:-translate-y-1/2 after:border-[6px] after:border-transparent after:border-r-gray-900"
      >
        Side: right
      </div>
    </div>
  </div>
  <p slot="note" class="mt-3">
    Side via <code>data-side</code> attribute or JS option. Hover across quickly â€” warm-up skips delay for adjacent tooltips.
  </p>
  <Code slot="code-css" code={cssCode} lang="html" theme="vitesse-light" />
  <Code slot="code-tailwind" code={tailwindCode} lang="html" theme="vitesse-light" />
</ExampleBlock>
