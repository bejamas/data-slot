---
import { Code } from "astro:components";
import ExampleBlock from "../ExampleBlock.astro";

const cssCode = `<div data-slot="dropdown-menu" data-align="center" class="dropdown-root">
  <button data-slot="dropdown-menu-trigger" class="dropdown-trigger">
    Actions ▼
  </button>
  <div data-slot="dropdown-menu-content" class="dropdown-content" hidden>
    <div data-slot="dropdown-menu-group">
      <div data-slot="dropdown-menu-label" class="dropdown-label">Edit</div>
      <button data-slot="dropdown-menu-item" data-value="cut" class="dropdown-item">
        Cut
        <span data-slot="dropdown-menu-shortcut" class="dropdown-shortcut">⌘X</span>
      </button>
      <button data-slot="dropdown-menu-item" data-value="copy" class="dropdown-item">
        Copy
        <span data-slot="dropdown-menu-shortcut" class="dropdown-shortcut">⌘C</span>
      </button>
      <button data-slot="dropdown-menu-item" data-value="paste" class="dropdown-item">
        Paste
        <span data-slot="dropdown-menu-shortcut" class="dropdown-shortcut">⌘V</span>
      </button>
    </div>
    <div data-slot="dropdown-menu-separator" class="dropdown-separator"></div>
    <button data-slot="dropdown-menu-item" data-value="delete" data-variant="destructive" class="dropdown-item destructive">
      Delete
    </button>
    <button data-slot="dropdown-menu-item" data-disabled class="dropdown-item disabled">
      Archive (coming soon)
    </button>
  </div>
</div>

<style>
  .dropdown-root { position: relative; display: inline-block; }
  .dropdown-trigger {
    padding: 0.5rem 1rem;
    background: #1a1a1a;
    color: #faf9f7;
    border: none;
    cursor: pointer;
  }
  .dropdown-content {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 0.25rem;
    background: #faf9f7;
    border: 1px solid #ccc;
    min-width: 180px;
    padding: 0.25rem;
    z-index: 50;
  }
  .dropdown-label {
    padding: 0.375rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: #888;
  }
  .dropdown-item {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 0.375rem 0.5rem;
    border: none;
    background: none;
    cursor: pointer;
    font-size: 0.875rem;
    text-align: left;
  }
  .dropdown-item[data-highlighted] {
    background: #e5e5e5;
  }
  .dropdown-item.destructive { color: #dc2626; }
  .dropdown-item.destructive[data-highlighted] {
    background: #fef2f2;
  }
  .dropdown-item.disabled {
    color: #aaa;
    cursor: not-allowed;
  }
  .dropdown-shortcut {
    margin-left: auto;
    font-size: 0.75rem;
    color: #888;
  }
  .dropdown-separator {
    height: 1px;
    background: #ddd;
    margin: 0.25rem 0;
  }
</style>`;

const tailwindCode = `<div data-slot="dropdown-menu" class="relative inline-block">
  <button
    data-slot="dropdown-menu-trigger"
    class="px-4 py-2 bg-gray-900 text-white border-none cursor-pointer
           hover:opacity-90 transition-opacity"
  >
    Actions ▼
  </button>
  <div
    data-slot="dropdown-menu-content"
    class="absolute top-full left-0 mt-1 bg-white border border-gray-300
           min-w-[180px] p-1 z-50 rounded-lg shadow-lg"
    hidden
  >
    <div data-slot="dropdown-menu-group">
      <div
        data-slot="dropdown-menu-label"
        class="px-2 py-1.5 text-xs font-semibold text-gray-400"
      >
        Edit
      </div>
      <button
        data-slot="dropdown-menu-item"
        data-value="cut"
        class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded
               data-[highlighted]:bg-gray-100"
      >
        Cut
        <span data-slot="dropdown-menu-shortcut" class="ml-auto text-xs text-gray-400">⌘X</span>
      </button>
      <button
        data-slot="dropdown-menu-item"
        data-value="copy"
        class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded
               data-[highlighted]:bg-gray-100"
      >
        Copy
        <span data-slot="dropdown-menu-shortcut" class="ml-auto text-xs text-gray-400">⌘C</span>
      </button>
      <button
        data-slot="dropdown-menu-item"
        data-value="paste"
        class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded
               data-[highlighted]:bg-gray-100"
      >
        Paste
        <span data-slot="dropdown-menu-shortcut" class="ml-auto text-xs text-gray-400">⌘V</span>
      </button>
    </div>
    <div data-slot="dropdown-menu-separator" class="h-px bg-gray-200 my-1"></div>
    <button
      data-slot="dropdown-menu-item"
      data-value="delete"
      data-variant="destructive"
      class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded
             text-red-600 data-[highlighted]:bg-red-50"
    >
      Delete
    </button>
    <button
      data-slot="dropdown-menu-item"
      data-disabled
      class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded
             text-gray-300 cursor-not-allowed"
    >
      Archive (coming soon)
    </button>
  </div>
</div>`;
---

<ExampleBlock>
  <div slot="preview-css" data-slot="dropdown-menu" class="dropdown-root" id="dropdown-menu-css">
    <button data-slot="dropdown-menu-trigger" class="dropdown-trigger">
      Actions ▼
    </button>
    <div data-slot="dropdown-menu-content" class="dropdown-content" hidden>
      <div data-slot="dropdown-menu-group">
        <div data-slot="dropdown-menu-label" class="dropdown-label">Edit</div>
        <button data-slot="dropdown-menu-item" data-value="cut" class="dropdown-item">
          Cut
          <span data-slot="dropdown-menu-shortcut" class="dropdown-shortcut">⌘X</span>
        </button>
        <button data-slot="dropdown-menu-item" data-value="copy" class="dropdown-item">
          Copy
          <span data-slot="dropdown-menu-shortcut" class="dropdown-shortcut">⌘C</span>
        </button>
        <button data-slot="dropdown-menu-item" data-value="paste" class="dropdown-item">
          Paste
          <span data-slot="dropdown-menu-shortcut" class="dropdown-shortcut">⌘V</span>
        </button>
      </div>
      <div data-slot="dropdown-menu-separator" class="dropdown-separator"></div>
      <button data-slot="dropdown-menu-item" data-value="delete" data-variant="destructive" class="dropdown-item destructive">
        Delete
      </button>
      <button data-slot="dropdown-menu-item" data-disabled class="dropdown-item disabled">
        Archive (coming soon)
      </button>
    </div>
  </div>
  <div slot="preview-tailwind" data-slot="dropdown-menu" class="relative inline-block" id="dropdown-menu-tw">
    <button
      data-slot="dropdown-menu-trigger"
      class="px-4 py-2 bg-gray-900 text-white border-none cursor-pointer hover:opacity-90 transition-opacity"
    >
      Actions ▼
    </button>
    <div
      data-slot="dropdown-menu-content"
      class="absolute top-full left-0 mt-1 bg-white border border-gray-300 min-w-[180px] p-1 z-50 rounded-lg shadow-lg"
      hidden
    >
      <div data-slot="dropdown-menu-group">
        <div data-slot="dropdown-menu-label" class="px-2 py-1.5 text-xs font-semibold text-gray-400">Edit</div>
        <button
          data-slot="dropdown-menu-item"
          data-value="cut"
          class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded data-[highlighted]:bg-gray-100"
        >
          Cut
          <span data-slot="dropdown-menu-shortcut" class="ml-auto text-xs text-gray-400">⌘X</span>
        </button>
        <button
          data-slot="dropdown-menu-item"
          data-value="copy"
          class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded data-[highlighted]:bg-gray-100"
        >
          Copy
          <span data-slot="dropdown-menu-shortcut" class="ml-auto text-xs text-gray-400">⌘C</span>
        </button>
        <button
          data-slot="dropdown-menu-item"
          data-value="paste"
          class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded data-[highlighted]:bg-gray-100"
        >
          Paste
          <span data-slot="dropdown-menu-shortcut" class="ml-auto text-xs text-gray-400">⌘V</span>
        </button>
      </div>
      <div data-slot="dropdown-menu-separator" class="h-px bg-gray-200 my-1"></div>
      <button
        data-slot="dropdown-menu-item"
        data-value="delete"
        data-variant="destructive"
        class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded text-red-600 data-[highlighted]:bg-red-50"
      >
        Delete
      </button>
      <button
        data-slot="dropdown-menu-item"
        data-disabled
        class="flex items-center w-full px-2 py-1.5 text-sm text-left rounded text-gray-300 cursor-not-allowed"
      >
        Archive (coming soon)
      </button>
    </div>
  </div>
  <Code slot="code-css" code={cssCode} lang="html" theme="vitesse-light" />
  <Code slot="code-tailwind" code={tailwindCode} lang="html" theme="vitesse-light" />
</ExampleBlock>

<style is:global>
  .dropdown-root { display: inline-block; }
  .dropdown-trigger {
    padding: 0.5rem 1rem;
    background: #1a1a1a;
    color: #faf9f7;
    border: none;
    cursor: pointer;
  }
  .dropdown-content {
    background: #faf9f7;
    border: 1px solid #ccc;
    min-width: 180px;
    padding: 0.25rem;
    z-index: 50;
  }
  .dropdown-label {
    padding: 0.375rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: #888;
  }
  .dropdown-item {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 0.375rem 0.5rem;
    border: none;
    background: none;
    cursor: pointer;
    font-size: 0.875rem;
    text-align: left;
  }
  .dropdown-item[data-highlighted] {
    background: #e5e5e5;
  }
  .dropdown-item.destructive { color: #dc2626; }
  .dropdown-item.destructive[data-highlighted] {
    background: #fef2f2;
  }
  .dropdown-item.disabled {
    color: #aaa;
    cursor: not-allowed;
  }
  .dropdown-shortcut {
    margin-left: auto;
    font-size: 0.75rem;
    color: #888;
  }
  .dropdown-separator {
    height: 1px;
    background: #ddd;
    margin: 0.25rem 0;
  }
</style>
